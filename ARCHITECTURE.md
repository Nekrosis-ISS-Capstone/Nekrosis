# Project Architecture

- `couchcrasher/core.py`: Entry point for the Couch Crasher application.
  - Handle command line arguments.
  - Detect correct library to use (OS-specific).
  - Detect user privileges, pass to library.
  - Validate payload.
  - Call library to perform persistence.
- `couchcrasher/support/base.py`: Parent class for OS-specific persistence classes.
  - Defines structures such as required methods for child classes.
  - Public functions (child classes must implement):
    - `supported_persistence_methods()`: Returns a list of supported persistence methods.
    - `configured_persistence_method()`: Returns the persistence method currently in use.
    - `install()`: Installs payload for persistence.
- `couchcrasher/support/windows.py`: Windows-specific persistence class.
  - Inherits from `base.py`.
  - User privileges are determined by SID (Security Identifier).
- `couchcrasher/support/linux.py`: Linux-specific persistence class.
  - Inherits from `base.py`.
  - User privileges are determined by EUID (Effective User Identifier).
- `couchcrasher/support/macos.py`: macOS-specific persistence class.
  - Inherits from `base.py`.
  - User privileges are determined by EUID (Effective User Identifier).